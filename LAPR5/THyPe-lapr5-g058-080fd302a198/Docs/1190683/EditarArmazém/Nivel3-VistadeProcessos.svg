<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="840px" preserveAspectRatio="none" style="width:1278px;height:840px;background:#FFFFFF;" version="1.1" viewBox="0 0 1278 840" width="1278px" zoomAndPan="magnify"><defs><filter height="300%" id="f15232tzza9mkn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="677.4375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="95" y="91.5703"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="573.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="237.5" y="186.1406"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="513.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="692.5" y="216.4922"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="916.5" y="307.1953"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="916.5" y="367.5469"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="916.5" y="427.8984"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="916.5" y="488.25"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="916.5" y="548.6016"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="916.5" y="608.9531"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1071" y="246.8438"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1071" y="669.3047"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="100" x2="100" y1="59.2188" y2="778.0078"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="242" x2="242" y1="59.2188" y2="778.0078"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="571" x2="571" y1="141.6797" y2="778.0078"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="697" x2="697" y1="59.2188" y2="778.0078"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="921" x2="921" y1="59.2188" y2="778.0078"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1076" x2="1076" y1="59.2188" y2="778.0078"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1213" x2="1213" y1="59.2188" y2="778.0078"/><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="52" x="72" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="79" y="44.1426">Route</text><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="52" x="72" y="777.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="79" y="798.541">Route</text><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="205" x="138" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="145" y="44.1426">controller : ArmazemController</text><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="205" x="138" y="777.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="145" y="798.541">controller : ArmazemController</text><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="106" x="516" y="777.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20" x="559" y="798.541">dto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="527" y="816.1504">: ArmazemDto</text><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="119" x="636" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="643" y="44.1426">ArmazemService</text><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="119" x="636" y="777.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="643" y="798.541">ArmazemService</text><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="141" x="849" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="856" y="44.1426">armazem : Armazem</text><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="141" x="849" y="777.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="856" y="798.541">armazem : Armazem</text><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="140" x="1004" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1011" y="44.1426">ArmazemRepository</text><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="140" x="1004" y="777.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1011" y="798.541">ArmazemRepository</text><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="106" x="1158" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1171.5" y="26.5332">armazemDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1169" y="44.1426">: ArmazemDto</text><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="106" x="1158" y="777.0078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1171.5" y="798.541">armazemDto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1169" y="816.1504">: ArmazemDto</text><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="677.4375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="95" y="91.5703"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="573.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="237.5" y="186.1406"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="513.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="692.5" y="216.4922"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="916.5" y="307.1953"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="916.5" y="367.5469"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="916.5" y="427.8984"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="916.5" y="488.25"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="916.5" y="548.6016"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="916.5" y="608.9531"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1071" y="246.8438"/><rect fill="#FFFFFF" filter="url(#f15232tzza9mkn)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1071" y="669.3047"/><ellipse cx="7.5" cy="90.8203" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="83,87.5703,93,91.5703,83,95.5703,87,91.5703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="12" x2="89" y1="91.5703" y2="91.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="15" y="86.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="26" y="86.7139">PUT(json)</text><polygon fill="#A80036" points="504,117.9219,514,121.9219,504,125.9219,508,121.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="105" x2="510" y1="121.9219" y2="121.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="112" y="117.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="376" x="123" y="117.0654">create(id,designacao,endereco,lojaId,municipio,latitude,longitude)</text><rect fill="#FEFECE" filter="url(#f15232tzza9mkn)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="106" x="516" y="99.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="20" x="559" y="121.1035">dto</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="527" y="138.7129">: ArmazemDto</text><polygon fill="#A80036" points="225.5,182.1406,235.5,186.1406,225.5,190.1406,229.5,186.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="105" x2="231.5" y1="186.1406" y2="186.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="112" y="181.2842">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="123" y="181.2842">update(id, dto)</text><polygon fill="#A80036" points="680.5,212.4922,690.5,216.4922,680.5,220.4922,684.5,216.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="247.5" x2="686.5" y1="216.4922" y2="216.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="254.5" y="211.6357">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="265.5" y="211.6357">update(dto)</text><polygon fill="#A80036" points="1059,242.8438,1069,246.8438,1059,250.8438,1063,246.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="702.5" x2="1065" y1="246.8438" y2="246.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="709.5" y="241.9873">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="720.5" y="241.9873">armazem = getById(armazemId)</text><polygon fill="#A80036" points="904.5,303.1953,914.5,307.1953,904.5,311.1953,908.5,307.1953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="702.5" x2="910.5" y1="307.1953" y2="307.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="709.5" y="302.3389">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="720.5" y="302.3389">changeLongitude(longitude)</text><polygon fill="#A80036" points="904.5,363.5469,914.5,367.5469,904.5,371.5469,908.5,367.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="702.5" x2="910.5" y1="367.5469" y2="367.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="709.5" y="362.6904">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="720.5" y="362.6904">changeLatitude(latitude)</text><polygon fill="#A80036" points="904.5,423.8984,914.5,427.8984,904.5,431.8984,908.5,427.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="702.5" x2="910.5" y1="427.8984" y2="427.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="709.5" y="423.042">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="720.5" y="423.042">changeEndereco(endereco)</text><polygon fill="#A80036" points="904.5,484.25,914.5,488.25,904.5,492.25,908.5,488.25" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="702.5" x2="910.5" y1="488.25" y2="488.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="709.5" y="483.3936">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="720.5" y="483.3936">changeDesignacao(designacao)</text><polygon fill="#A80036" points="904.5,544.6016,914.5,548.6016,904.5,552.6016,908.5,548.6016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="702.5" x2="910.5" y1="548.6016" y2="548.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="709.5" y="543.7451">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="727.5" y="543.7451">changeMunicipio(municipio)</text><polygon fill="#A80036" points="904.5,604.9531,914.5,608.9531,904.5,612.9531,908.5,608.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="702.5" x2="910.5" y1="608.9531" y2="608.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="709.5" y="604.0967">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="727.5" y="604.0967">changeLojaId(lojaId)</text><polygon fill="#A80036" points="1059,665.3047,1069,669.3047,1059,673.3047,1063,669.3047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="702.5" x2="1065" y1="669.3047" y2="669.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="709.5" y="664.4482">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="727.5" y="664.4482">save(armazem)</text><polygon fill="#A80036" points="258.5,725.6563,248.5,729.6563,258.5,733.6563,254.5,729.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="252.5" x2="696.5" y1="729.6563" y2="729.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="264.5" y="724.7998">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="282.5" y="724.7998">armazemDto</text><polygon fill="#A80036" points="116,756.0078,106,760.0078,116,764.0078,112,760.0078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="110" x2="241.5" y1="760.0078" y2="760.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="122" y="755.1514">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="140" y="755.1514">response</text><!--MD5=[30e8a8758df08039728fea0e9a7478b2]
@startuml
autonumber

participant "Route" as route
participant "controller : ArmazemController" as cont
participant "dto\n : ArmazemDto" as cdto
participant "ArmazemService" as serv
participant "armazem : Armazem" as ent
participant "ArmazemRepository" as repo
participant "armazemDto\n : ArmazemDto"

[o->route: PUT(json)

activate route
route -> cdto**: create(id,designacao,endereco,lojaId,municipio,latitude,longitude)

route -> cont: update(id, dto)
activate cont

cont -> serv: update(dto)
activate serv

serv -> repo: armazem = getById(armazemId)
activate repo
deactivate repo

serv -> ent: changeLongitude(longitude)
activate ent
deactivate ent

serv -> ent: changeLatitude(latitude)
activate ent
deactivate ent

serv -> ent: changeEndereco(endereco)
activate ent
deactivate ent

serv -> ent: changeDesignacao(designacao)
activate ent
deactivate ent

serv -> ent: changeMunicipio(municipio)
activate ent
deactivate ent

serv -> ent: changeLojaId(lojaId)
activate ent
deactivate ent


serv -> repo: save(armazem)
activate repo
deactivate repo

serv - -> cont: armazemDto
deactivate serv
cont - -> route: response
deactivate cont


@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>